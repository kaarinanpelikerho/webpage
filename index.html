<!DOCTYPE html>
<html lang="fi">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Rentoa pelaamista Kaarinan pelikerhossa joka keskiviikko!" />
  <title>Kaarinan pelikerho</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <link rel="stylesheet" href="styles/colors-dark.css">
  <link rel="stylesheet" href="styles/colors-light.css">
  <link rel="stylesheet" href="styles/style.css">
  <link rel="icon" href="favicon.ico?" type="image/x-icon">
</head>

<body> 
  <div class="logo-container d-flex justify-content-center align-items-center" style="padding-top:88px; padding-bottom:32px; background: transparent;">
    <img src="resources/logo.png" alt="Boardgame Group Logo" style="height:260px;width:auto;border-radius:18px;padding:0;box-shadow:0 2px 18px 0 rgba(0,0,0,0.12);background:none;">
  </div>
  <div class="page-container">
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-light bg-light fixed-top shadow-sm">
      <div class="container">
        <a class="navbar-brand" href="#">Kaarinan pelikerho</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav ms-auto">
            <li class="nav-item">
              <a class="nav-link" href="#about">Tietoa</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#events">Tulevat tapahtumat</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#contact">Yhteystiedot</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="pelit">Pelikokoelma</a>
            </li>
          </ul>
          <button id="theme-toggle" class="theme-toggle-btn" title="Vaihda teema" aria-label="Vaihda teema">
            <i id="theme-toggle-icon" class="fa-solid fa-moon"></i>
          </button>
        </div>
      </div>
    </nav>

    <!-- Hero -->
    <header class="hero">
      <div class="container text-center">
        <h1 class="display-4 mt-3">Tervetuloa Kaarinan pelikerhoon!</h1>
        <p class="lead"><i class="fa-solid fa-dice me-2"></i> Rentoa lautapelaamista joka viikko maksutta – liity mukaan!</p>
      </div>
    </header>

    <section id="infos" class="bg-light" style="background: #fffbe6; display: none;">
      <div class="container">
        <h2 class="mb-4"><i class="fa-solid fa-circle-info"></i> Infotaulu</h2>
        <ul class="list-group" id="info-list">
          <!-- Infos will be loaded here by infos-loader.js -->
        </ul>
      </div>
    </section>

    <!-- About Section -->
    <section id="about" class="bg-white">
      <div class="container">
        <h2 class="mb-4"><i class="fa-solid fa-clock"></i> Milloin & Missä</h2>
        <p>Kokoontumiset joka <strong>keskiviikko klo 17:00 Kaarinan pääkirjastolla, Kahvila Libriksen tiloissa, Lautakunnankatu 1, 20780 Kaarina</strong>.</p>
        <p>Kaikki ovat tervetulleita! Tuo omat pelisi tai pelaa <a href="pelit">pelikokoelmassa</a> olevia pelejä.</p>
      </div>
    </section>
    
    <!-- Kuukauden teema section -->
    <section id="theme-of-the-month" class="bg-light">
      <div class="container" style="max-width:700px; margin:auto;">
        <h2 class="mb-4"><i class="fa-solid fa-puzzle-piece"></i> Kuukauden teema</h2>
        <div class="row align-items-start justify-content-center flex-md-row flex-column text-center text-md-start">
          <div class="col-12 col-md-5 mb-3 mb-md-0 d-flex justify-content-center">
            <a href="resources/game_theme.png" target="_blank" rel="noopener" style="display:inline-block;">
              <img src="resources/game_theme.png" alt="Kuukauden teema" class="theme-poster" style="width:100%; max-width:320px; border-radius:18px; box-shadow:0 2px 18px 0 rgba(0,0,0,0.13); transition:transform 0.18s, box-shadow 0.18s; cursor:pointer;">
            </a>
          </div>
          <div class="col-12 col-md-7 d-flex flex-column align-items-center align-items-md-start text-center text-md-start">
            <div class="theme-desc" id="theme-desc" style="font-size:1.08em; margin-top:0; max-width:420px;">
              <div id="theme-desc-preview">
                <strong>Pelimekaniikat:</strong> Pelimekaniikat ovat sääntöjä ja tapoja, jotka ohjaavat peliä.<br><br>
                <strong>Pelaajien valinnat:</strong> Mitä päätät tehdä ja milloin.<br>
                <span class="d-none d-sm-inline">...<br></span>
                <span class="d-sm-none">...<br></span>
              </div>
              <div id="theme-desc-full" style="display:none;">
                <strong>Pelimekaniikat:</strong> Pelimekaniikat ovat sääntöjä ja tapoja, jotka ohjaavat peliä.<br><br>
                <strong>Pelaajien valinnat:</strong> Mitä päätät tehdä ja milloin; pelaajien valinnat muokkaavat pelin kulkua ja vuorovaikutusta.<br><br>
                <strong>Vuorovaikutus:</strong> Miten pelaajat vaikuttavat toisiinsa — kilpailu, yhteistyö, vaihtaminen ja neuvottelu muodostavat dynamiikan.<br><br>
                <strong>Pelinkulku:</strong> Miten peli etenee ja muuttuu: vuorot, vaiheet ja tapahtumat ohjaavat tarinaa ja taktisia mahdollisuuksia.<br><br>
                <strong>Haasteet ja strategia:</strong> Miten voitat tai edistyt pelissä; yhdistelmä taktisia valintoja ja pitkän aikavälin suunnittelua.<br><br>
                <strong>Hauskuus ja kokemukset:</strong> Pelit luovat jännitystä, yllätyksiä ja iloa — tärkeintä on hyvä pelikokemus yhdessä.
              </div>
              <button id="theme-desc-toggle" class="btn btn-link p-0 mt-2" style="font-size:0.98em; color:#ff8800; text-decoration:underline;">Näytä lisää</button>
            </div>
          </div>
        </div>
      </div>
    </section>
    

    <!-- Events Section -->
    <section id="events" class="bg-light" style="padding-top: 0;">
      <div class="container">
        <h2 class="mb-4"><i class="fa-solid fa-calendar-days"></i> Tulevat tapahtumat</h2>
        <ul class="list-group" id="event-list">
          <!-- Events will be loaded here by events-loader.js -->
        </ul>
      </div>
    </section>

    <!-- Contact Section -->
    <section id="contact" class="bg-white">
      <div class="container">
        <h2 class="mb-4"><i class="fa-solid fa-envelope"></i> Yhteystiedot</h2>
        <div class="d-flex flex-column align-items-center w-100">
          <div class="d-flex align-items-center mb-2" style="gap:13px;">
            <i class="fa-solid fa-envelope" style="font-size:26px;"></i>
            <span>Sähköposti: <a href="mailto:kaarinanpelikerho@gmail.com">kaarinanpelikerho@gmail.com</a></span>
          </div>
          <div class="d-flex align-items-center mb-2" style="gap:13px;">
            <i class="fa-brands fa-instagram" style="font-size:26px;"></i>
            <span>Seuraa meitä <a href="https://instagram.com/kaarinan_pelikerho" target="_blank">Instagramissa</a> pysyäksesi ajan tasalla.</span>
          </div>
        </div>
        <!-- Instagram Profile Embed -->
        <div class="d-flex justify-content-center mt-4 mb-4">
          <iframe src="https://www.instagram.com/kaarinan_pelikerho/embed" width="340" height="440" frameborder="0" scrolling="no" allowtransparency="true" style="border-radius:12px;background:#222;"></iframe>
        </div>
    </section>
    <!-- Divider -->
    <div class="d-flex justify-content-center" style="margin:0;">
      <hr style="width: 100%; border: 1.5px solid #ff8800; border-radius: 2px; opacity: 0.7; margin:0;">
    </div>
    <!-- Discord Section -->
    <section id="discord" class="bg-light" style="padding-top:32px;">
      <div class="container text-center">
        <p>Keskustele ja pysy yhteydessä yhteisöön!</p>
        <div class="d-flex justify-content-center">
          <a href="https://discord.gg/xbykjBw9nM" class="btn btn-primary d-flex align-items-center justify-content-center" style="background:#5865F2;border:none;">
            <i class="fa-brands fa-discord" style="font-size:26px;"></i>
            <span class="ms-2">Liity Discordiin</span>
          </a>
        </div>
      </div>
    </section>

    <!-- Footer -->
    <footer class="bg-light text-center py-4">
      <div class="container">
        <small>&copy; 2025 Kaarinan pelikerho. Kaikki oikeudet pidätetään.</small>
      </div>
    </footer>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="events-loader.js"></script>
  <script src="infos-loader.js"></script>
  <script>
    // Theme switcher with cookie persistence
    function setCookie(name, value, days) {
      let expires = "";
      if (days) {
        const date = new Date();
        date.setTime(date.getTime() + (days*24*60*60*1000));
        expires = "; expires=" + date.toUTCString();
      }
      document.cookie = name + "=" + (value || "")  + expires + "; path=/";
    }
    function getCookie(name) {
      const nameEQ = name + "=";
      const ca = document.cookie.split(';');
      for(let i=0;i < ca.length;i++) {
        let c = ca[i];
        while (c.charAt(0)==' ') c = c.substring(1,c.length);
        if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length,c.length);
      }
      return null;
    }
    function setTheme(theme) {
      const btn = document.getElementById('theme-toggle');
      const icon = document.getElementById('theme-toggle-icon');
      if (theme === 'light') {
        document.body.classList.add('light-theme');
        icon.className = 'fa-solid fa-sun';
        btn.classList.add('active');
      } else {
        document.body.classList.remove('light-theme');
        icon.className = 'fa-solid fa-moon';
        btn.classList.remove('active');
      }
      setCookie('theme', theme, 365);
    }
    document.getElementById('theme-toggle').addEventListener('click', function() {
      const isLight = document.body.classList.contains('light-theme');
      setTheme(isLight ? 'dark' : 'light');
    });
    // On load, set theme from cookie
    (function() {
      const savedTheme = getCookie('theme');
      if (savedTheme === 'light') {
        setTheme('light');
      } else {
        setTheme('dark');
      }
    })();
    // Kuukauden teema - expand/collapse
    document.addEventListener('DOMContentLoaded', function() {
      var btn = document.getElementById('theme-desc-toggle');
      var preview = document.getElementById('theme-desc-preview');
      var full = document.getElementById('theme-desc-full');
      var expanded = false;
      if (btn && preview && full) {
        btn.addEventListener('click', function() {
          expanded = !expanded;
          if (expanded) {
            preview.style.display = 'none';
            full.style.display = '';
            btn.textContent = 'Näytä vähemmän';
          } else {
            preview.style.display = '';
            full.style.display = 'none';
            btn.textContent = 'Näytä lisää';
          }
        });
      }
    });
  </script>
</body>

</html>